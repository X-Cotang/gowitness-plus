import{u as O,g as T,o as V,r as N,c as z,a as S,w as A,_ as U,b as j,d as I,e as d,f,h as s,t as y,F as x,i as R,n as F,j as K,k as X,l as W,m as J}from"./index-9199b4a6.js";function q(a){return T()?(V(a),!0):!1}function E(a){return typeof a=="function"?a():O(a)}const H=typeof window<"u"&&typeof document<"u",Q=Object.prototype.toString,Y=a=>Q.call(a)==="[object Object]",B=()=>{};function Z(a){var n;const c=E(a);return(n=c==null?void 0:c.$el)!=null?n:c}const G=H?window:void 0;function M(...a){let n,c,e,h;if(typeof a[0]=="string"||Array.isArray(a[0])?([c,e,h]=a,n=G):[n,c,e,h]=a,!n)return B;Array.isArray(c)||(c=[c]),Array.isArray(e)||(e=[e]);const m=[],g=()=>{m.forEach(r=>r()),m.length=0},_=(r,u,p,v)=>(r.addEventListener(u,p,v),()=>r.removeEventListener(u,p,v)),t=A(()=>[Z(n),E(h)],([r,u])=>{if(g(),!r)return;const p=Y(u)?{...u}:u;m.push(...c.flatMap(v=>e.map(P=>_(r,v,P,p))))},{immediate:!0,flush:"post"}),o=()=>{t(),g()};return q(o),o}const $={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function ee(a={}){const{reactive:n=!1,target:c=G,aliasMap:e=$,passive:h=!0,onEventFired:m=B}=a,g=N(new Set),_={toJSON(){return{}},current:g},t=n?N(_):_,o=new Set,r=new Set;function u(i,l){i in t&&(n?t[i]=l:t[i].value=l)}function p(){g.clear();for(const i of r)u(i,!1)}function v(i,l){var b,C;const k=(b=i.key)==null?void 0:b.toLowerCase(),D=[(C=i.code)==null?void 0:C.toLowerCase(),k].filter(Boolean);k&&(l?g.add(k):g.delete(k));for(const w of D)r.add(w),u(w,l);k==="meta"&&!l?(o.forEach(w=>{g.delete(w),u(w,!1)}),o.clear()):typeof i.getModifierState=="function"&&i.getModifierState("Meta")&&l&&[...g,...D].forEach(w=>o.add(w))}M(c,"keydown",i=>(v(i,!0),m(i)),{passive:h}),M(c,"keyup",i=>(v(i,!1),m(i)),{passive:h}),M("blur",p,{passive:!0}),M("focus",p,{passive:!0});const P=new Proxy(t,{get(i,l,b){if(typeof l!="string")return Reflect.get(i,l,b);if(l=l.toLowerCase(),l in e&&(l=e[l]),!(l in t))if(/[+_-]/.test(l)){const k=l.split(/[+_-]/g).map(L=>L.trim());t[l]=z(()=>k.every(L=>E(P[L])))}else t[l]=S(!1);const C=Reflect.get(i,l,b);return n?E(C):C}});return P}const te={setup(){const a=S({}),n=S(""),c=S({}),e=S(!1),{escape:h}=ee();function m(o){e.value=!0,c.value=o}const g=async()=>{const o=await j.get(`http://localhost:7171/api//gallery?perception_sort=true&limit=${a.Limit}&page=${a.PrevPage}`);o.status==200&&(this.galleries=o.data.data)},_=async()=>{const o=await j.get(`http://localhost:7171/api//gallery?perception_sort=true&limit=${a.Limit}&page=${a.NextPage}`);o.status==200&&(this.galleries=o.data.data)},t=async o=>{const r=await j.get(`http://localhost:7171/api//gallery?perception_sort=true&limit=${a.Limit}&page=${o}`);r.status==200&&(this.galleries=r.data.data)};return A(h,o=>{o&&(e.value=!1)}),{modal:e,galleries:a,url:n,galleryS:c,selectGallery:m,prevPage:g,nextPage:_,goToPage:t}},async mounted(){const a=await j.get("http://localhost:7171/api/gallery");a.status==200&&(this.galleries=a.data.data)}},se={class:"mx-3"},ae=s("h5",null,"Gallery view",-1),oe={class:"text-muted"},le={class:"row row-cols-1 row-cols-sm-2 row-cols-md-6 g-3"},ne={class:"card shadow-sm"},ie=["src","onClick"],re=["src","onClick"],ce=["src","onClick"],de={class:"card-body"},fe=["href"],ge={class:"text-muted"},ue={class:"badge text-bg-primary"},he={class:"card-footer text-body-secondary"},me=s("i",{class:"fa-regular fa-eye"},null,-1),_e={key:0,class:"d-flex justify-content-end my-3"},ye={"aria-label":"Page navigation example"},pe={class:"pagination"},ve=s("a",{class:"page-link",href:"javascript:void(0)"},"Previous",-1),ke=[ve],we={class:"page-item"},be=["onClick"],Ce={class:"page-item"},xe={class:"page-link",href:"javascript:void(0)"},Se={class:"page-item"},Pe=["onClick"],Le=s("a",{class:"page-link",href:"javascript:void(0)"},"Next",-1),je=[Le],Re={class:"modal-dialog modal-xl"},Me={class:"modal-content"},Ee={class:"modal-header"},Fe={class:"modal-title h4",id:"exampleModalXlLabel"},De={class:"modal-body"},Ne=["src"],Ae=["src"],Be=["src"];function Ge(a,n,c,e,h,m){var _;const g=I("router-link");return d(),f(x,null,[s("main",se,[ae,s("small",oe,"URLS: "+y((_=e.galleries)!=null&&_.Count?e.galleries.Count:0),1),s("div",le,[(d(!0),f(x,null,R(e.galleries.Records,(t,o)=>(d(),f("div",{key:o,class:"col"},[s("div",ne,[t.IsPDF?(d(),f("embed",{key:0,src:"/screenshots/"+t.Filename,type:"application/pdf",frameBorder:"0",scrolling:"auto",height:"100%",width:"100%",onClick:r=>e.selectGallery(t)},null,8,ie)):t.Screenshot?(d(),f("img",{key:1,src:"data:image/png;base64,"+t.Screenshot,alt:"",class:"card-img-top",onClick:r=>e.selectGallery(t)},null,8,re)):(d(),f("img",{key:2,loading:"lazy",src:"/screenshots/"+t.Filename,onerror:"this.onerror=null; this.src='/assets/default.jfif'",class:"card-img-top",onClick:r=>e.selectGallery(t)},null,8,ce)),s("div",de,[s("div",null,[s("a",{href:t.URL,target:"_blank"},y(t.URL),9,fe)]),s("div",ge,y(t.Title),1),(d(!0),f(x,null,R(t.Technologies,(r,u)=>(d(),f("div",{key:u},[s("span",ue,y(r.Value),1)]))),128))]),s("div",he,[W(g,{class:"btn btn-primary","aria-current":"page",to:`/detail/${t.ID}`},{default:J(()=>[me]),_:2},1032,["to"])])])]))),128))]),e.galleries.Count>0||e.galleries.page>1?(d(),f("div",_e,[s("nav",ye,[s("ul",pe,[s("li",{class:F(e.galleries.Page>1?"page-item":"page-item disabled"),onClick:n[0]||(n[0]=t=>e.prevPage())},ke,2),(d(!0),f(x,null,R(e.galleries.PrevPageRange,t=>(d(),f("li",we,[s("a",{class:"page-link",href:"javascript:void(0)",onClick:o=>e.goToPage(t)},y(t),9,be)]))),256)),s("li",Ce,[s("a",xe,y(e.galleries.Page),1)]),(d(!0),f(x,null,R(e.galleries.NextPageRange,t=>(d(),f("li",Se,[s("a",{class:"page-link",href:"javascript:void(0)",onClick:o=>e.goToPage(t)},y(t),9,Pe)]))),256)),s("li",{class:F(e.galleries.Page===e.galleries.NextPage?"page-item disabled":"page-item"),onClick:n[1]||(n[1]=t=>e.nextPage())},je,2)])])])):K("",!0)]),s("div",{class:F(e.modal?"modal fade show":"modal"),id:"exampleModalXl",tabindex:"-1","aria-labelledby":"exampleModalXlLabel",style:X(e.modal?"display: block":"display: none"),"aria-modal":"true",role:"dialog"},[s("div",Re,[s("div",Me,[s("div",Ee,[s("h5",Fe,y(e.galleryS.URL),1),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n[2]||(n[2]=t=>e.modal=!1)})]),s("div",De,[e.galleryS.IsPDF?(d(),f("embed",{key:0,src:"/screenshots/"+e.galleryS.Filename,type:"application/pdf",frameBorder:"0",scrolling:"auto",style:{height:"100%",width:"100%"}},null,8,Ne)):e.galleryS.Screenshot?(d(),f("img",{key:1,src:"data:image/png;base64,"+e.galleryS.Screenshot,alt:"",style:{height:"100%",width:"100%"}},null,8,Ae)):(d(),f("img",{key:2,loading:"lazy",src:"/screenshots/"+e.galleryS.Filename,onerror:"this.onerror=null; this.src='/assets/default.jfif'",style:{height:"100%",width:"100%"}},null,8,Be))])])])],6)],64)}const Te=U(te,[["render",Ge]]);export{Te as default};
