import{u as O,g as T,o as V,r as N,c as z,a as S,w as A,_ as U,b as j,d as I,e as d,f,h as s,t as y,F as x,i as R,n as F,j as K,k as X,l as W,m as J}from"./index-932a7255.js";function q(a){return T()?(V(a),!0):!1}function E(a){return typeof a=="function"?a():O(a)}const H=typeof window<"u"&&typeof document<"u",Q=Object.prototype.toString,Y=a=>Q.call(a)==="[object Object]",B=()=>{};function Z(a){var i;const c=E(a);return(i=c==null?void 0:c.$el)!=null?i:c}const G=H?window:void 0;function M(...a){let i,c,e,m;if(typeof a[0]=="string"||Array.isArray(a[0])?([c,e,m]=a,i=G):[i,c,e,m]=a,!i)return B;Array.isArray(c)||(c=[c]),Array.isArray(e)||(e=[e]);const _=[],g=()=>{_.forEach(r=>r()),_.length=0},h=(r,u,v,p)=>(r.addEventListener(u,v,p),()=>r.removeEventListener(u,v,p)),t=A(()=>[Z(i),E(m)],([r,u])=>{if(g(),!r)return;const v=Y(u)?{...u}:u;_.push(...c.flatMap(p=>e.map(P=>h(r,p,P,v))))},{immediate:!0,flush:"post"}),o=()=>{t(),g()};return q(o),o}const $={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function ee(a={}){const{reactive:i=!1,target:c=G,aliasMap:e=$,passive:m=!0,onEventFired:_=B}=a,g=N(new Set),h={toJSON(){return{}},current:g},t=i?N(h):h,o=new Set,r=new Set;function u(l,n){l in t&&(i?t[l]=n:t[l].value=n)}function v(){g.clear();for(const l of r)u(l,!1)}function p(l,n){var b,C;const k=(b=l.key)==null?void 0:b.toLowerCase(),D=[(C=l.code)==null?void 0:C.toLowerCase(),k].filter(Boolean);k&&(n?g.add(k):g.delete(k));for(const w of D)r.add(w),u(w,n);k==="meta"&&!n?(o.forEach(w=>{g.delete(w),u(w,!1)}),o.clear()):typeof l.getModifierState=="function"&&l.getModifierState("Meta")&&n&&[...g,...D].forEach(w=>o.add(w))}M(c,"keydown",l=>(p(l,!0),_(l)),{passive:m}),M(c,"keyup",l=>(p(l,!1),_(l)),{passive:m}),M("blur",v,{passive:!0}),M("focus",v,{passive:!0});const P=new Proxy(t,{get(l,n,b){if(typeof n!="string")return Reflect.get(l,n,b);if(n=n.toLowerCase(),n in e&&(n=e[n]),!(n in t))if(/[+_-]/.test(n)){const k=n.split(/[+_-]/g).map(L=>L.trim());t[n]=z(()=>k.every(L=>E(P[L])))}else t[n]=S(!1);const C=Reflect.get(l,n,b);return i?E(C):C}});return P}const te={setup(){const a=S({}),i=S(""),c=S({}),e=S(!1),{escape:m}=ee();function _(o){e.value=!0,c.value=o}const g=async()=>{const o=await j.get(`/api//gallery?perception_sort=true&limit=${a.Limit}&page=${a.PrevPage}`);o.status==200&&(this.galleries=o.data.data)},h=async()=>{const o=await j.get(`/api//gallery?perception_sort=true&limit=${a.Limit}&page=${a.NextPage}`);o.status==200&&(this.galleries=o.data.data)},t=async o=>{const r=await j.get(`/api//gallery?perception_sort=true&limit=${a.Limit}&page=${o}`);r.status==200&&(this.galleries=r.data.data)};return A(m,o=>{o&&(e.value=!1)}),{modal:e,galleries:a,url:i,galleryS:c,selectGallery:_,prevPage:g,nextPage:h,goToPage:t}},async mounted(){const a=await j.get("/api/gallery");a.status==200&&(this.galleries=a.data.data)}},se={class:"mx-3"},ae=s("h5",null,"Gallery view",-1),oe={class:"text-muted"},ne={class:"row row-cols-1 row-cols-sm-2 row-cols-md-6 g-3"},ie={class:"card shadow-sm"},le=["src","onClick"],re=["src","onClick"],ce=["src","onClick"],de={class:"card-body"},fe=["href"],ge={class:"text-muted"},ue={class:"badge text-bg-primary"},me={class:"card-footer text-body-secondary"},_e=s("i",{class:"fa-regular fa-eye"},null,-1),he={key:0,class:"d-flex justify-content-end my-3"},ye={"aria-label":"Page navigation example"},ve={class:"pagination"},pe=s("a",{class:"page-link",href:"javascript:void(0)"},"Previous",-1),ke=[pe],we={class:"page-item"},be=["onClick"],Ce={class:"page-item"},xe={class:"page-link",href:"javascript:void(0)"},Se={class:"page-item"},Pe=["onClick"],Le=s("a",{class:"page-link",href:"javascript:void(0)"},"Next",-1),je=[Le],Re={class:"modal-dialog modal-xl"},Me={class:"modal-content"},Ee={class:"modal-header"},Fe={class:"modal-title h4",id:"exampleModalXlLabel"},De={class:"modal-body"},Ne=["src"],Ae=["src"],Be=["src"];function Ge(a,i,c,e,m,_){var h;const g=I("router-link");return d(),f(x,null,[s("main",se,[ae,s("small",oe,"URLS: "+y((h=e.galleries)!=null&&h.Count?e.galleries.Count:0),1),s("div",ne,[(d(!0),f(x,null,R(e.galleries.Records,(t,o)=>(d(),f("div",{key:o,class:"col"},[s("div",ie,[t.IsPDF?(d(),f("embed",{key:0,src:"/screenshots/"+t.Filename,type:"application/pdf",frameBorder:"0",scrolling:"auto",height:"100%",width:"100%",onClick:r=>e.selectGallery(t)},null,8,le)):t.Screenshot?(d(),f("img",{key:1,src:"data:image/png;base64,"+t.Screenshot,alt:"",class:"card-img-top",onClick:r=>e.selectGallery(t)},null,8,re)):(d(),f("img",{key:2,loading:"lazy",src:"/screenshots/"+t.Filename,onerror:"this.onerror=null; this.src='/assets/default.jfif'",class:"card-img-top",onClick:r=>e.selectGallery(t)},null,8,ce)),s("div",de,[s("div",null,[s("a",{href:t.URL,target:"_blank"},y(t.URL),9,fe)]),s("div",ge,y(t.Title),1),(d(!0),f(x,null,R(t.Technologies,(r,u)=>(d(),f("div",{key:u},[s("span",ue,y(r.Value),1)]))),128))]),s("div",me,[W(g,{class:"btn btn-primary","aria-current":"page",to:`/detail/${t.ID}`},{default:J(()=>[_e]),_:2},1032,["to"])])])]))),128))]),e.galleries.Count>0||e.galleries.page>1?(d(),f("div",he,[s("nav",ye,[s("ul",ve,[s("li",{class:F(e.galleries.Page>1?"page-item":"page-item disabled"),onClick:i[0]||(i[0]=t=>e.prevPage())},ke,2),(d(!0),f(x,null,R(e.galleries.PrevPageRange,t=>(d(),f("li",we,[s("a",{class:"page-link",href:"javascript:void(0)",onClick:o=>e.goToPage(t)},y(t),9,be)]))),256)),s("li",Ce,[s("a",xe,y(e.galleries.Page),1)]),(d(!0),f(x,null,R(e.galleries.NextPageRange,t=>(d(),f("li",Se,[s("a",{class:"page-link",href:"javascript:void(0)",onClick:o=>e.goToPage(t)},y(t),9,Pe)]))),256)),s("li",{class:F(e.galleries.Page===e.galleries.NextPage?"page-item disabled":"page-item"),onClick:i[1]||(i[1]=t=>e.nextPage())},je,2)])])])):K("",!0)]),s("div",{class:F(e.modal?"modal fade show":"modal"),id:"exampleModalXl",tabindex:"-1","aria-labelledby":"exampleModalXlLabel",style:X(e.modal?"display: block":"display: none"),"aria-modal":"true",role:"dialog"},[s("div",Re,[s("div",Me,[s("div",Ee,[s("h5",Fe,y(e.galleryS.URL),1),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:i[2]||(i[2]=t=>e.modal=!1)})]),s("div",De,[e.galleryS.IsPDF?(d(),f("embed",{key:0,src:"/screenshots/"+e.galleryS.Filename,type:"application/pdf",frameBorder:"0",scrolling:"auto",style:{height:"100%",width:"100%"}},null,8,Ne)):e.galleryS.Screenshot?(d(),f("img",{key:1,src:"data:image/png;base64,"+e.galleryS.Screenshot,alt:"",style:{height:"100%",width:"100%"}},null,8,Ae)):(d(),f("img",{key:2,loading:"lazy",src:"/screenshots/"+e.galleryS.Filename,onerror:"this.onerror=null; this.src='/assets/default.jfif'",style:{height:"100%",width:"100%"}},null,8,Be))])])])],6)],64)}const Te=U(te,[["render",Ge]]);export{Te as default};
